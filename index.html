<!doctype html>
<html>
  <body>
    <div id="stdout">Stdout: </div>
    <script>
      const stdout = document.getElementById("stdout");
      const puts = function(str) {
        stdout.innerHTML += str + "<br>";
      }
      var importObject = { host: { print: function(arg) {
          switch (arg) {
            case -1:
              arg = "fizz";
              break
            case -2:
              arg = "buzz";
              break;
            case -3:
              arg = "fizzbuzz";
              break;
            default:
              arg = arg.toString()
          }
          puts(arg);
      } } };

      WebAssembly.instantiateStreaming(fetch('fizzbuzz.wasm'), importObject);
    </script>
  </body>
</html>
